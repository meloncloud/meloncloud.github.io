(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{455:function(a,s,t){"use strict";t.r(s);var e=t(2),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"搭建环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搭建环境"}},[a._v("#")]),a._v(" 搭建环境")]),a._v(" "),s("p",[s("code",[a._v("Ubuntu22.04")])]),a._v(" "),s("h2",{attrs:{id:"更新apt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更新apt"}},[a._v("#")]),a._v(" 更新apt")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("apt update\n")])])]),s("h2",{attrs:{id:"安装相应的服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装相应的服务"}},[a._v("#")]),a._v(" 安装相应的服务")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("apt install nginx mysql-server php-fpm php8.1-xml php-mysql php-gd -y\n")])])]),s("p",[a._v("注意，确保php8.1-xml要和php需要安装的版本相对应，否则就是要安装php*.*-xml了，"),s("br"),a._v("\n如果不能确定安装的版本，可以先不安装php8.1-xml，等安装完php确定版本后再补安装php-xml。")]),a._v(" "),s("h2",{attrs:{id:"检测版本-非必须运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#检测版本-非必须运行"}},[a._v("#")]),a._v(" 检测版本（非必须运行）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("nginx -v\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("php -v\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mysql -V\n")])])]),s("h2",{attrs:{id:"配置nginx服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置nginx服务"}},[a._v("#")]),a._v(" 配置nginx服务")]),a._v(" "),s("p",[a._v("打开nginx默认配置目录")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("cd /etc/nginx/conf.d\n")])])]),s("p",[a._v("新建一个.conf配置文件（nginx会遍历该目录下所有配置文件）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("vim xxxx.conf\n")])])]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("server{\n        listen 80 ;\n        root /var/www/wordpress;\n        index index.php index.html index.htm index.nginx-debian.html;\n\n        server_name domain.com www.domain.com;\n\n        location / {\n                try_files $uri $uri/ /index.php?$args;\n        }\n        location ~ \\.php$ {\n                include snippets/fastcgi-php.conf;\n                fastcgi_pass unix:/run/php/php8.1-fpm.sock;\n        }\n}\n")])])]),s("h2",{attrs:{id:"配置数据库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置数据库"}},[a._v("#")]),a._v(" 配置数据库")]),a._v(" "),s("p",[a._v("进入数据库")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mysql\n")])])]),s("p",[a._v("进入mysql数据库，该数据库用于存放mysql设置相关的内容")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("USE mysql;\n")])])]),s("p",[a._v("设置数据库登录密码")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '密码';\n")])])]),s("p",[a._v("设置数据库访问权限（本地访问/外部访问/限定访问）")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("update user set host = '%' where user = 'root';\n")])])]),s("p",[a._v("设置更新数据库权限")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("FLUSH PRIVILEGES;\n")])])]),s("p",[a._v("退出数据库")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("quit;\n")])])]),s("p",[a._v("下次再进入数据库")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mysql -u root -p\n")])])]),s("p",[a._v("输入密即可再次进入数据库")]),a._v(" "),s("h2",{attrs:{id:"配置php"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置php"}},[a._v("#")]),a._v(" 配置php")]),a._v(" "),s("p",[a._v("php采用默认配置即可，如果需要自己配置，文件位置："),s("br"),a._v(" "),s("code",[a._v("/etc/php/8.1/fpm/php.ini")])])])}),[],!1,null,null,null);s.default=r.exports}}]);